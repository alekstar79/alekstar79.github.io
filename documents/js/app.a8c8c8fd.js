(function(){"use strict";var e={6481:function(e,t,n){var s=n(7195),a=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("documents-list")],1)},o=[],i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[t("section",{staticClass:"row"},[t("div",{staticClass:"col-12"},[t("nav",{staticClass:"navbar navbar-light bg-light mb-3"},[t("div",{staticClass:"container-fluid"},[t("span",{staticClass:"navbar-brand"},[e._v("Документы")]),t("div",{staticClass:"navbar ms-auto my-0"},[t("button",{staticClass:"btn btn-outline-secondary rounded-pill mx-1 my-1",on:{click:e.addType}},[t("span",[e._v(" + ")]),e._v(" Новый тип ")]),t("button",{staticClass:"btn btn-outline-secondary rounded-pill mx-1 my-1",on:{click:e.addNode}},[t("span",[e._v(" + ")]),e._v(" Новый документ ")])])])]),t("nav",{staticClass:"navbar navbar-light bg-light py-2"},[t("div",{staticClass:"container-fluid"},[t("div",{ref:"search",staticClass:"search form-control"},[t("i",{staticClass:"bi bi-search pe-2 py-1"}),t("input",{attrs:{type:"search",placeholder:"Поиск","aria-label":"search"}}),e._m(0)])])])])]),t("section",{staticClass:"row my-5"},[t("div",{key:e.updateTypeList,staticClass:"col-12"},[t("vue-tree-list",e._b({ref:"tree",attrs:{"default-tree-node-name":"Новый тип","default-leaf-node-name":"Новый документ"},on:{"change-name":e.onChangeName,"delete-node":e.onDeleteNode,"drop-before":e.onDropBefore,"add-node":e.onAddNode,drop:e.drop},scopedSlots:e._u([{key:"leafNameDisplay",fn:function({model:n}){return[t("span",{staticClass:"leaf__name",domProps:{innerHTML:e._s(`\n            <span class='leaf__name--normal'>${n.name}</span>\n            ${n.sep||""}\n            <span class='leaf__name--small'>${n.sub}</span>\n          `)}})]}}])},"vue-tree-list",{defaultExpanded:!0,model:e.tree},!1),[t("span",{staticClass:"icon",attrs:{slot:"editNodeIcon"},slot:"editNodeIcon"},[t("i",{staticClass:"bi bi-pencil"})]),t("span",{staticClass:"icon",attrs:{slot:"delNodeIcon"},slot:"delNodeIcon"},[t("i",{staticClass:"bi bi-trash"})]),t("span",{staticClass:"icon",attrs:{slot:"leafNodeIcon"},domProps:{textContent:e._s("")},slot:"leafNodeIcon"}),t("span",{staticClass:"icon",attrs:{slot:"treeNodeIcon"},domProps:{textContent:e._s("")},slot:"treeNodeIcon"})])],1)]),t("section",{staticClass:"row my-5"},[t("div",{key:e.updateDocsList,staticClass:"col-12"},[t("vue-tree-list",e._b({ref:"leaf",attrs:{"default-tree-node-name":"Новый тип","default-leaf-node-name":"Новый документ"},on:{"change-name":e.onChangeName,"delete-node":e.onDeleteNode,"drop-before":e.onDropBefore,drop:e.drop},scopedSlots:e._u([{key:"leafNameDisplay",fn:function({model:n}){return[t("span",{staticClass:"leaf__name",domProps:{innerHTML:e._s(`\n            <span class='leaf__name--normal'>${n.name}</span>\n            ${n.sep||""}\n            <span class='leaf__name--small'>${n.sub}</span>\n          `)}})]}}])},"vue-tree-list",{defaultExpanded:!0,model:e.leaf},!1),[t("span",{staticClass:"icon",attrs:{slot:"editNodeIcon"},slot:"editNodeIcon"},[t("i",{staticClass:"bi bi-pencil"})]),t("span",{staticClass:"icon",attrs:{slot:"delNodeIcon"},slot:"delNodeIcon"},[t("i",{staticClass:"bi bi-trash"})]),t("span",{staticClass:"icon",attrs:{slot:"leafNodeIcon"},domProps:{textContent:e._s("")},slot:"leafNodeIcon"}),t("span",{staticClass:"icon",attrs:{slot:"treeNodeIcon"},domProps:{textContent:e._s("")},slot:"treeNodeIcon"})])],1)])])},r=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"clear"},[t("i",{staticClass:"bi bi-x-lg"})])}],d=n(6229),l=(n(7658),n(5130));const c=Array.from("ABCDEFGHIJKLMNOPQRSTUVWXYZ"),u=Array.from("abcdefghijklmnopqrstuvwxyz"),f=Array.from("0123456789");function p(e="all"){return"all"===e?Array.from([...c,...u,...f]):Array.from({caps:c,lower:u,numbers:f}[e])}function m(e,t="all"){Number.isInteger(e)||(e=7);const n=p(t);return Array.from({length:e},(()=>n[Math.random()*n.length|0])).join("")}function h(e,t="•"){return{toString:()=>Array.from(e||[],(e=>`${`<span class="leaf__sep" {style}>${t}</span>`.replace(/\{style}/i,e?`style="color:${e};"`:"")}`)).join("")}}function b(e){const t=document.createElement("span"),n=document.createElement("span"),s=document.createElement("i");return s.setAttribute("class",e),t.setAttribute("title","move"),n.setAttribute("class","icon"),t.append(n),n.append(s),t}function v(e,t=9){let n;return function(...s){n&&clearTimeout(n),n=setTimeout(e.bind(this,...s),t)}}const y=N(l.Z);function N(e){return e.methods.updateName=function(e){return function(t){e.call(this,t)}}(e.methods.updateName),e.updated=v((function(){const e=document.querySelectorAll("div.vtl-operation"),t={};e.forEach(((e,n)=>{t[`o${n}`]||(t[`o${n}`]=[]),e.childNodes.forEach((e=>{"SPAN"===e.nodeName&&t[`o${n}`].push({span:e,parent:e.parentElement})}))}));for(const n in t)if(t[n].length<3){const e=b("bi bi-arrow-down-up");t[n][0].parent.append(e)}}),500),e.mounted=function(){let e=0;return function(){const t=b("bi bi-arrow-down-up");document.querySelectorAll("div.vtl-operation")[e++]?.insertAdjacentElement("beforeend",t)}}(),e.methods.dragEnter=function(e){return function(t){e.call(this),!this.model.isLeaf&&t.target.classList.contains("test")}}(e.methods.dragEnter),e.methods.filter=function(e,t){t||(t=this.model.children);const n=[];for(const s of t){if("root"===s.name)continue;let t=`${s.name} ${s.sub}`.toLowerCase().includes(e),a=!1;s.children?.length&&(a=this.filter(e,s.children)),s.show=t||a,document.getElementById(s.id).style.display=s.show?"block":"none",n.push(s.show)}return n.filter(Boolean).length},e}const C=[{show:!0,addTreeNodeDisabled:!0,addLeafNodeDisabled:!0,name:"Обязательные для всех",sub:"Документы, обязательные для всех сотрудников без исключения",sep:h(["#FF238D","#FFB800","#FF8D23"]),id:m(13),pid:0,children:[{show:!0,isLeaf:!0,addTreeNodeDisabled:!0,addLeafNodeDisabled:!0,name:"Паспорт",sub:"Обязательный",sep:h(["#00C2FF"]),id:m(13),pid:1},{show:!0,isLeaf:!0,addTreeNodeDisabled:!0,addLeafNodeDisabled:!0,name:"ИНН",sub:"Обязательный",sep:h({length:3},""),id:m(13),pid:1}]},{show:!0,addTreeNodeDisabled:!0,addLeafNodeDisabled:!0,name:"Обязательные для трудоустройства",sub:"Документы, без которых невозможно трудоустройство человека",sep:h({length:3},""),id:m(13),pid:0},{show:!0,addTreeNodeDisabled:!0,addLeafNodeDisabled:!0,name:"Специальные",sub:"",id:m(13),pid:0}],L=[{show:!0,isLeaf:!0,addTreeNodeDisabled:!0,addLeafNodeDisabled:!0,name:"Тестовое задание",sub:"Обязательный",sep:h(["#00C2FF"]),id:m(13)},{show:!0,isLeaf:!0,addTreeNodeDisabled:!0,addLeafNodeDisabled:!0,name:"Трудовой договор",sub:"Обязательный",sep:h({length:2},""),id:m(13)},{show:!0,isLeaf:!0,addTreeNodeDisabled:!0,addLeafNodeDisabled:!0,name:"Медкнижка",sub:"",id:m(13)}];var g={name:"DocumentsList",components:{VueTreeList:y},data:()=>({updateDocsList:!1,updateTypeList:!1,tree:new d.m(C),leaf:new d.m(L),dump:[C,L]}),methods:{filter(e){this.$refs.tree.filter(e),this.$refs.leaf.filter(e)},async addNode(){this.leaf.addChildren(new d.O({isLeaf:!0,parent:this.leaf,addTreeNodeDisabled:!0,addLeafNodeDisabled:!0,name:"Новый документ",id:m(13),sub:"",pid:0})),await this.$nextTick(),this.updateDocsList=!this.updateDocsList,this.$forceUpdate()},async addType(){this.tree.addChildren(new d.O({isLeaf:!1,parent:this.tree,addTreeNodeDisabled:!0,addLeafNodeDisabled:!0,name:"Новый тип",id:m(13),sub:"",pid:0})),await this.$nextTick(),this.updateTypeList=!this.updateTypeList,this.$forceUpdate()},async drop({node:e,target:t,src:n}){(!e.isLeaf&&!t.isLeaf||e.isLeaf&&"root"===this.parent?.name)&&e.moveInto(n)},async onDropBefore({node:e,target:t,src:n}){(!e.isLeaf&&!t.isLeaf||e.isLeaf&&"root"===this.parent?.name)&&e.moveInto(n)},onAddNode(e){},onChangeName(e){},onDeleteNode(e){e.remove()}},async mounted(){await this.$nextTick();const{children:e}=this.$refs.search,t=e[1],n=e[2];t.addEventListener("input",(({target:{value:e}})=>{n.style.visibility=e.length>0?"visible":"hidden",this.filter(e.toLowerCase())})),n.addEventListener("click",(()=>{n.previousElementSibling.value="",n.style.visibility="hidden",[...document.querySelectorAll(".vtl-leaf-node"),...document.querySelectorAll(".vtl-tree-node")].forEach((e=>{e.style.display="block"}))}))}},w=g,_=n(1001),D=(0,_.Z)(w,i,r,!1,null,null,null),T=D.exports,$={name:"App",components:{DocumentsList:T}},I=$,A=(0,_.Z)(I,a,o,!1,null,null,null),k=A.exports,x=n(408);s.ZP.use(x.ZP);var E=new x.ZP.Store({state:{},getters:{},mutations:{},actions:{},modules:{}});function O(){}s.ZP.config.productionTip=!1,Object.keys(console).filter((e=>"function"===typeof console[e])).forEach((e=>{console[e]=O})),new s.ZP({store:E,render:e=>e(k)}).$mount("#app")}},t={};function n(s){var a=t[s];if(void 0!==a)return a.exports;var o=t[s]={exports:{}};return e[s](o,o.exports,n),o.exports}n.m=e,function(){var e=[];n.O=function(t,s,a,o){if(!s){var i=1/0;for(c=0;c<e.length;c++){s=e[c][0],a=e[c][1],o=e[c][2];for(var r=!0,d=0;d<s.length;d++)(!1&o||i>=o)&&Object.keys(n.O).every((function(e){return n.O[e](s[d])}))?s.splice(d--,1):(r=!1,o<i&&(i=o));if(r){e.splice(c--,1);var l=a();void 0!==l&&(t=l)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[s,a,o]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,s){var a,o,i=s[0],r=s[1],d=s[2],l=0;if(i.some((function(t){return 0!==e[t]}))){for(a in r)n.o(r,a)&&(n.m[a]=r[a]);if(d)var c=d(n)}for(t&&t(s);l<i.length;l++)o=i[l],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(c)},s=self["webpackChunkdocuments"]=self["webpackChunkdocuments"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=n.O(void 0,[998],(function(){return n(6481)}));s=n.O(s)})();