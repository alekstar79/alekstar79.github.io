(window.webpackJsonp=window.webpackJsonp||[]).push([[272],{1058:function(t,i,o){"use strict";o.r(i);var e=o(1),n=o(0),a=o.n(n),h=(o(3),o(1053)),r=o(1052),l=o(1292),s=o.n(l),c=o(1531),g=o.n(c);i.default=function(t){var i=t.nodeCanvas,o=h._getTypeNumber,n=h.getFontDeclaration,l=r.QrModel,c=r.QRErrorCorrectLevel,u=function(t){this._canvas=i.createCanvas(200,200),this._htOption=t,this._bIsPainted=!1,"svg"===this._htOption._drawer?this._oContext={}:this._oContext=this._canvas.getContext("2d"),this.dataURL=null};function d(t){this._htOption={height:384,width:384,typeNumber:4,colorDark:"rgba(0,0,0,1)",colorLight:"rgba(255,255,255,1)",correctLevel:c.H,dotScale:1,dotScaleTiming:1,dotScaleTiming_H:void 0,dotScaleTiming_V:void 0,dotScaleA:1,dotScaleAO:void 0,dotScaleAI:void 0,quietZone:0,quietZoneColor:"rgba(0,0,0,0)",title:{text:"",fontFamily:"sans-serif",fontStyle:"normal",fontWeight:500,fontSize:24,backgroundColor:"rgba(255,255,255,1)",color:"rgba(0,0,0,1)",height:0,top:0},logo:void 0,logoWidth:void 0,logoHeight:void 0,logoMaxWidth:void 0,logoMaxHeight:void 0,logoBackgroundColor:"rgba(255,255,255,1)",logoBackgroundTransparent:!1,PO:void 0,PI:void 0,PO_TL:void 0,PI_TL:void 0,PO_TR:void 0,PI_TR:void 0,PO_BL:void 0,PI_BL:void 0,AO:void 0,AI:void 0,timing:void 0,timing_H:void 0,timing_V:void 0,backgroundImage:void 0,backgroundImageAlpha:1,autoColor:!1,autoColorDark:"rgba(0,0,0,1)",autoColorLight:"rgba(255,255,255,1)",onRenderingStart:void 0,format:"PNG",compressionLevel:6,quality:.75,qversion:0,binary:!1},"string"==typeof t&&(t={text:t}),t&&(this._htOption=g()(this._htOption,t)),(this._htOption.qversion<0||this._htOption.qversion>40)&&(this._htOption.qversion=0),this._htOption.format=this._htOption.format.toUpperCase(),"PNG"!==this._htOption.format&&"JPG"!==this._htOption.format&&(this._htOption.format="PNG"),"PNG"===this._htOption.format&&(this._htOption.compressionLevel<0||this._htOption.compressionLevel>9)?this._htOption.compressionLevel=1:(this._htOption.quality<0||this._htOption.quality>1)&&(this._htOption.quality=.75),(this._htOption.dotScale<0||this._htOption.dotScale>1)&&(this._htOption.dotScale=1),(this._htOption.dotScaleTiming<0||this._htOption.dotScaleTiming>1)&&(this._htOption.dotScaleTiming=1),this._htOption.dotScaleTiming_H?(this._htOption.dotScaleTiming_H<0||this._htOption.dotScaleTiming_H>1)&&(this._htOption.dotScaleTiming_H=1):this._htOption.dotScaleTiming_H=this._htOption.dotScaleTiming,this._htOption.dotScaleTiming_V?(this._htOption.dotScaleTiming_V<0||this._htOption.dotScaleTiming_V>1)&&(this._htOption.dotScaleTiming_V=1):this._htOption.dotScaleTiming_V=this._htOption.dotScaleTiming,(this._htOption.dotScaleA<0||this._htOption.dotScaleA>1)&&(this._htOption.dotScaleA=1),this._htOption.dotScaleAO?(this._htOption.dotScaleAO<0||this._htOption.dotScaleAO>1)&&(this._htOption.dotScaleAO=1):this._htOption.dotScaleAO=this._htOption.dotScaleA,this._htOption.dotScaleAI?(this._htOption.dotScaleAI<0||this._htOption.dotScaleAI>1)&&(this._htOption.dotScaleAI=1):this._htOption.dotScaleAI=this._htOption.dotScaleA,(this._htOption.backgroundImageAlpha<0||this._htOption.backgroundImageAlpha>1)&&(this._htOption.backgroundImageAlpha=1),(!this._htOption.drawer||"svg"!==this._htOption.drawer&&"canvas"!==this._htOption.drawer)&&(this._htOption.drawer="canvas")}return u.prototype.draw=function(){var t=Object(e.a)(a.a.mark((function t(o){var h,r,l,c,g,u,d;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(d=function(){h.quietZone>0&&h.quietZoneColor&&(r.fillStyle=h.quietZoneColor,r.lineWidth=0,r.fillRect(0,0,l._canvas.width,h.quietZone),r.fillRect(0,h.quietZone,h.quietZone,l._canvas.height-2*h.quietZone),r.fillRect(l._canvas.width-h.quietZone,h.quietZone,h.quietZone,l._canvas.height-2*h.quietZone),r.fillRect(0,l._canvas.height-h.quietZone,l._canvas.width,h.quietZone))},h=s()(this._htOption),r=this._oContext,l=this,h.title.text?(h.title.height=1.2*h.title.fontSize,h.title.top=h.title.height/1.3,h.height+=h.title.height):h.title.height=0,c=o.getModuleCount(),g=Math.round(h.width/c),u=Math.round((h.height-h.title.height)/c),g<=1&&(g=1),u<=1&&(u=1),h.width=g*c,h.height=u*c+h.title.height,h.quietZone=Math.round(h.quietZone),l._canvas.height=h.height+2*h.quietZone,l._canvas.width=h.width+2*h.quietZone,l._oContext.patternQuality="best",l._oContext.quality="best",l._oContext.textDrawingMode="path",l._oContext.antialias="gray","JPG"===h.format?(h.logoBackgroundTransparent=!1,h.backgroundImage?(r.fillStyle=h.colorLight,r.fillRect(0,0,l._canvas.width,l._canvas.height)):("rgba(0,0,0,0)"!==h.quietZoneColor&&"transparent"!==h.quietZoneColor||(h.quietZoneColor="#ffffff"),r.fillStyle=h.colorLight,r.fillRect(0,0,l._canvas.width,l._canvas.height))):(r.lineWidth=0,r.fillStyle=h.colorLight,r.fillRect(0,0,l._canvas.width,l._canvas.height)),!h.backgroundImage){t.next=19;break}return t.next=19,function(){var t=new i.Image;return t.src=h.backgroundImage,new Promise((function(i,o){t.onload=function(){r.globalAlpha=1,r.globalAlpha=h.backgroundImageAlpha,r.drawImage(t,0,h.title.height,h.width+2*h.quietZone,h.height+2*h.quietZone-h.title.height),r.globalAlpha=1,i()},t.onerror=function(t){o(t)}}))}();case 19:return t.next=21,function(){var t=Object(e.a)(a.a.mark((function t(o){var e,s,p,_,f,v,O,m,S;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(e=0;e<c;e++)for(s=0;s<c;s++)p=s*g+h.quietZone,_=e*u+h.quietZone,f=o.isDark(e,s),v=o.getEye(e,s),O=h.dotScale,m=void 0,S=void 0,r.lineWidth=0,v?(m=h[v.type]||h[v.type.substring(0,2)]||h.colorDark,S=h.colorLight):h.backgroundImage?(S="rgba(0,0,0,0)",6===e?h.autoColor?(m=h.timing_H||h.timing||h.autoColorDark,S=h.timing_H||h.timing||h.autoColorLight):m=h.timing_H||h.timing||h.colorDark:6===s?h.autoColor?(m=h.timing_V||h.timing||h.autoColorDark,S=h.timing_V||h.timing||h.autoColorLight):m=h.timing_V||h.timing||h.colorDark:h.autoColor?(m=h.autoColorDark,S=h.autoColorLight):m=h.colorDark):(m=6===e?h.timing_H||h.timing||h.colorDark:6===s&&(h.timing_V||h.timing)||h.colorDark,S=h.colorLight),r.strokeStyle=f?m:S,r.fillStyle=f?m:S,v?(f=v.isDarkBlock,O="AO"===v.type?h.dotScaleAO:"AI"===v.type?h.dotScaleAI:1,h.backgroundImage&&h.autoColor?(m=("AO"===v.type?h.AI:h.AO)||h.autoColorDark,S=h.autoColorLight):m=("AO"===v.type?h.AI:h.AO)||m,r.fillRect(p+g*(1-O)/2,h.title.height+_+u*(1-O)/2,g*O,u*O)):6===e?(O=h.dotScaleTiming_H,r.fillRect(p+g*(1-O)/2,h.title.height+_+u*(1-O)/2,g*O,u*O)):6===s?(O=h.dotScaleTiming_V,r.fillRect(p+g*(1-O)/2,h.title.height+_+u*(1-O)/2,g*O,u*O)):(h.backgroundImage,r.fillRect(p+g*(1-O)/2,h.title.height+_+u*(1-O)/2,g*O,u*O)),1===h.dotScale||v||(r.strokeStyle=h.colorLight);if(h.title.text&&(r.fillStyle=h.title.backgroundColor,r.fillRect(0,0,l._canvas.width,h.title.height+l._htOption.quietZone),r.font=n(h.title),r.fillStyle=h.title.color,r.textAlign="center",r.fillText(h.title.text,l._canvas.width/2,h.quietZone+h.title.top)),!h.logo){t.next=16;break}return t.prev=3,t.t0=function(t){var i,o,e=Math.round(h.height/3.5),n=Math.round(h.width/3.5);n!==e&&(n=e),h.logoMaxWidth?n=Math.round(h.logoMaxWidth):h.logoWidth&&(n=Math.round(h.logoWidth)),h.logoMaxHeight?e=Math.round(h.logoMaxHeight):h.logoHeight&&(e=Math.round(h.logoHeight)),void 0===t.naturalWidth?(o=t.height,i=t.width):(o=t.naturalHeight,i=t.naturalWidth),(h.logoMaxWidth||h.logoMaxHeight)&&(h.logoMaxWidth&&i<=n&&(n=i),h.logoMaxHeight&&o<=e&&(e=o),i<=n&&o<=e&&(n=i,e=o));var a=(h.width+2*h.quietZone-n)/2,s=(h.height+h.title.height+2*h.quietZone-e)/2,c=Math.min(n/i,e/o),g=i*c,u=o*c;(h.logoMaxWidth||h.logoMaxHeight)&&(n=g,e=u,a=(h.width+2*h.quietZone-n)/2,s=(h.height+h.title.height+2*h.quietZone-e)/2),h.logoBackgroundTransparent||(r.fillStyle=h.logoBackgroundColor,r.fillRect(a,s,n,e)),r.drawImage(t,a+(n-g)/2,s+(e-u)/2,g,u),d(),l._bIsPainted=!0,l.makeImage()},t.next=7,new Promise((function(t,o){var e=new i.Image;e.onload=function(){t(e)},e.onerror=function(t){o(t)},e.src=h.logo}));case 7:t.t1=t.sent,(0,t.t0)(t.t1),t.next=14;break;case 11:t.prev=11,t.t2=t.catch(3),console.log("DRAW ERROR: ".concat(t.t2.message));case 14:t.next=19;break;case 16:d(),l._bIsPainted=!0,l.makeImage();case 19:case"end":return t.stop()}}),t,null,[[3,11]])})));return function(i){return t.apply(this,arguments)}}()(o);case 21:case"end":return t.stop()}}),t,this)})));return function(i){return t.apply(this,arguments)}}(),u.prototype.makeImage=function(){var t=this;this._htOption.onRenderingStart&&this._htOption.onRenderingStart(this._htOption),"svg"===this._htOption._drawer?t.resolve(this._oContext.getSerializedSvg()):"PNG"===this._htOption.format?this._canvas.toDataURL((function(i,o){!i&&t.resolve&&t.resolve(o)})):this._canvas.toDataURL("image/jpeg",(function(i,o){!i&&t.resolve&&t.resolve(o)}))},u.prototype.isPainted=function(){return this._bIsPainted},u.prototype.clear=u.prototype.remove=function(){this._oContext.clearRect(0,0,this._canvas.width,this._canvas.height),this._bIsPainted=!1},u.prototype.round=function(t){return t?Math.floor(1e3*t)/1e3:t},d.prototype.makeCode=function(t){return t||(t=this._htOption.text),this._oQRCode=new l(o(t,this._htOption),this._htOption.correctLevel),this._oQRCode.addData(t,this._htOption.binary),this._oQRCode.make(),this},d.prototype.draw=Object(e.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._oDrawing=new u(s()(this._htOption)),t.next=3,this._oDrawing.draw(this._oQRCode);case 3:case"end":return t.stop()}}),t,this)}))),d.prototype.makeImage=function(){this._oDrawing.makeImage()},d.prototype._toData=function(t){var i=this;this._htOption._drawer=t;var o=new u(Object.assign({},this._htOption));return o.makeOptions={makeType:"URL"},new Promise((function(t,e){o.resolve=t,o.reject=e,o.draw(i._oQRCode)}))},d.prototype.toDataURL=function(){return this._toData("canvas")},d.prototype.toSVGText=function(){return this._toData("svg")},Object.defineProperties(d.prototype,{canvas:{enumerable:!0,get:function(){return this._oDrawing._canvas}},height:{enumerable:!0,get:function(){return this._oDrawing._canvas.height},set:function(t){this._htOption.height=t}},width:{enumerable:!0,get:function(){return this._oDrawing._canvas.width},set:function(t){this._htOption.width=t}},title:{enumerable:!0,get:function(){return this._htOption.title},set:function(t){this._htOption.title=t}},text:{enumerable:!0,get:function(){return this._htOption.text},set:function(t){this._htOption.text=t}},logo:{enumerable:!0,get:function(){return this._htOption.logo},set:function(t){this._htOption.logo=t}}}),d.CorrectLevel=c,d}},1429:function(t,i,o){var e=o(507),n=o(390);t.exports=function(t,i,o){(void 0!==o&&!n(t[i],o)||void 0===o&&!(i in t))&&e(t,i,o)}},1430:function(t,i){t.exports=function(t,i){if(("constructor"!==i||"function"!=typeof t[i])&&"__proto__"!=i)return t[i]}},1531:function(t,i,o){var e=o(1532),n=o(724)((function(t,i,o){e(t,i,o)}));t.exports=n},1532:function(t,i,o){var e=o(1217),n=o(1429),a=o(1533),h=o(1535),r=o(181),l=o(689),s=o(1430);t.exports=function t(i,o,c,g,u){i!==o&&a(o,(function(a,l){if(u||(u=new e),r(a))h(i,o,l,c,t,g,u);else{var d=g?g(s(i,l),a,l+"",i,o,u):void 0;void 0===d&&(d=a),n(i,l,d)}}),l)}},1533:function(t,i,o){var e=o(1534)();t.exports=e},1534:function(t,i){t.exports=function(t){return function(i,o,e){for(var n=-1,a=Object(i),h=e(i),r=h.length;r--;){var l=h[t?r:++n];if(!1===o(a[l],l,a))break}return i}}},1535:function(t,i,o){var e=o(1429),n=o(1288),a=o(1290),h=o(1233),r=o(1291),l=o(693),s=o(489),c=o(1293),g=o(690),u=o(493),d=o(181),p=o(694),_=o(691),f=o(1430),v=o(1298);t.exports=function(t,i,o,O,m,S,w){var b=f(t,o),k=f(i,o),x=w.get(k);if(x)e(t,o,x);else{var y=S?S(b,k,o+"",t,i,w):void 0,C=void 0===y;if(C){var q=s(k),I=!q&&g(k),A=!q&&!I&&_(k);y=k,q||I||A?s(b)?y=b:c(b)?y=h(b):I?(C=!1,y=n(k,!0)):A?(C=!1,y=a(k,!0)):y=[]:p(k)||l(k)?(y=b,l(b)?y=v(b):d(b)&&!u(b)||(y=r(k))):C=!1}C&&(w.set(k,y),m(y,k,O,S,w),w.delete(k)),e(t,o,y)}}}}]);