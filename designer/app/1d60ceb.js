(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{516:function(e,t,r){"use strict";r.r(t),function(e){r.d(t,"shapeAddFunctionality",(function(){return h}));r(16),r(25),r(9),r(26);var o=r(178),s=r(33),a=r(2),i=(r(3),r(27),r(51),r(18),r(12),r(398),r(88),r(163)),n=r(158),c=r(4);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){Object(a.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(t,r){var l,h,f=function(){return new r.Shadow({color:"rgba(0,0,0,1)",offsetX:0,offsetY:0,blur:0})},p=["lineType","shapeFill","strokeColor","strokeWidth","shadowColor","shadow","offsetX","offsetY","blur","radius"],d=p.reduce((function(e,t){return u(u({},e),{},Object(a.a)({},t,!0))}),{}),b=void 0===e||!0;return t.prototype.initialize=(l=t.prototype.initialize,function(){for(var e=this,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];l.call.apply(l,[this].concat(r)),b&&Object(c.setControls)(this,{tr:{cursor:"pointer",action:function(){e.stopFix=!0,e.canvas.trigger("shape:settings",e),setTimeout((function(){e.stopFix=!1}),100)}}},{tr:{icon:i.cog}})}),t.prototype.toObject=(h=t.prototype.toObject,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=p.filter((function(e){return"shapeFill"!==e})),r=this.originalTarget||this;return h.call(r,t.concat(e))}),t.prototype.onChangeFix=Object(n.debounce)((function(){!this.stopFix&&this.canvas?this.canvas.trigger("programmatic"):this.stopFix=!1}),0),t.prototype.setLineType=function(){var e=this.strokeWidth>3?2:1,t={};switch(this.lineType){case"solid":t.strokeDashArray=null,t.strokeLineCap="butt";break;case"dotted":t.strokeDashArray=[1,3*this.strokeWidth],t.strokeLineCap="round";break;case"dashed":t.strokeLineCap="butt",t.strokeDashArray=[2.3*this.strokeWidth*e,1.7*this.strokeWidth*e]}this.set(t)},t.prototype.setPattern=function(e,t){var o=this;return new r.Pattern({crossOrigin:"anonymous",source:e,repeat:t},(function(e){o.set({fill:e}),r.request()}))},new Proxy(t,{construct:function(e,t){var a=Object(o.a)(e,Object(s.a)(t)),i=new Proxy(a,{set:function(e,t,o){switch(t){case"shadow":e.shadow||(e.shadow=f()),e.dirty=Object.keys(o).every((function(r){return Reflect.set(e[t],r,o[r])}));break;case"shadowColor":case"offsetX":case"offsetY":case"blur":e.shadow||(e.shadow=f()),t in e.shadow||(t="color"),e.dirty=Reflect.set(e.shadow,t,o);break;case"radius":e.dirty=Reflect.set(e,t,o),e.set({rx:o/(e.scaleX||1),ry:o/(e.scaleY||1)});break;case"strokeColor":e.dirty=Reflect.set(e,"stroke",o);break;case"shapeFill":e.dirty=Reflect.set(e,"fill",o);break;case"strokeWidth":e.dirty=Reflect.set(e,t,o);break;case"lineType":e.dirty=Reflect.set(e,t,o),e.setLineType();break;default:Reflect.set(e,t,o)}return b&&t in d&&e.onChangeFix(),b&&r.request(),!0},get:function(e,t){switch(t){case"shadow":e.shadow||(e.shadow=f());break;case"shadowColor":case"offsetX":case"offsetY":case"blur":e.shadow||(e.shadow=f()),e[t]=e.shadow[t]||e.shadow.color;break;case"radius":e.radius||(e.radius=0);break;case"strokeColor":e[t]=e.stroke;break;case"shapeFill":e[t]=e.fill}return e[t]}});return i.originalTarget=a,i}})}}.call(this,r(38))}}]);