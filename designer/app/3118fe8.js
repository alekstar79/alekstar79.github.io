(window.webpackJsonp=window.webpackJsonp||[]).push([[94],{684:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(2),o=(n(29),n(24),n(25),n(34),n(12),n(16),n(19),n(3),n(26),n(9),n(27),n(460)),i=n(473),c=n(198),a=n(5),s=[];function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e){return e.map((function(e){return n=(t=e).path,r=t.name,i=t.component,/:\w*\??/.test(n)||(n="/"+Object(o.kebabCase)(Object(o.trim)(n,"/"))),{path:n,name:r,component:i};var t,n,r,i})).concat(s.map((function(e){return function(e){var t=e.path,n=e.name,r=e.view;return{name:n||r,component:e.component,path:t}}(e)})))}function p(e,t,n){var r=0;return e.hash?r=e.hash:n&&(r=n.y),Object(i.b)(r)}function f(e,t,n){var r=n||t(e).options;return new c.a(l(l({},r),{},{routes:d(r.routes),fallback:!1,scrollBehavior:p}))}a.default.use(c.a)},841:function(e,t,n){"use strict";n.r(t),n.d(t,"strict",(function(){return o})),n.d(t,"actions",(function(){return i}));var r=n(665),o=!1,i={nuxtClientInit:function(e,t){t.app,t.$vuetify,t.$bus;Object(r.a)()}}},842:function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return d})),n.d(t,"mutations",(function(){return p})),n.d(t,"actions",(function(){return f}));n(16),n(19),n(26),n(27);var r=n(151),o=n(1),i=n(2),c=n(0),a=n.n(c);n(3),n(12),n(43),n(9);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l=["creativity","application_works","embody_ideas","aim","your_ideas","quality_style","creativity","towards_change","step_ahead","changes_everything","creativity","stand_out","advantages","dont_stop","know_todo","creativity","guess_desires","with_soul","with_love","benefits","creates_result","creativity","right_move","look_through","become_easier","customized_designs","design_solutions","creativity","elegant_solutions","innovation_starts","always_topic","solutions_work","creativity"],d=function(){return{cover:"simple",color:"accent",theme:"light",hints:!1,owner:!1,fake:!1,menu:.7,calc:.7,goto:0,groups:[],clist:[],messages:{},presentation:!1,codemirror:void 0,credentials:void 0,subscribe:void 0,locale:void 0,error:void 0,vkapp:void 0,user:void 0,utoken:void 0,drawer:void 0,wrapper:void 0,window:void 0,webview:void 0,frame:void 0,embed:void 0,standalone:void 0,randomtag:void 0,mStyle:{opacity:1,display:"block"},yStyle:{opacity:0,display:"none"},pState:!0,yageo:[],taglist:l}},p={set:function(e,t){e.fake&&(t=Object.keys(t).reduce((function(e,n){return["credentials","groups","user"].includes(n)?e:u(u({},e),{},Object(i.a)({},n,t[n]))}),{})),Object.keys(t).forEach((function(n){e[n]=t[n]}))},setSettings:function(e,t){var n=t.credentials,r=t.settings,o=t.subscribe,i=t.groups,c=void 0===i?[]:i,a=t.user,s=t.error,u=t.fake;if(this.commit("app/set",{credentials:n,subscribe:o,groups:c,user:a,error:s}),this.commit("socket/set",{settings:r}),"undefined"!=typeof window&&!u&&!e.fake){var l=this.state.socket.isConnected;switch(!0){case!a&&l:this.commit("socket/reject");break;case a&&!l:this.commit("socket/init")}}},toggleDrawer:function(e){e.drawer=!e.drawer}},f={groupsLoad:function(e){return Object(o.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Object(r.a)(e),t.abrupt("return",[]);case 2:case"end":return t.stop()}}),t)})))()},settingsLoad:function(e){return Object(o.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Object(r.a)(e),t.abrupt("return",{});case 2:case"end":return t.stop()}}),t)})))()},getUsers:function(e){return Object(o.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Object(r.a)(e),t.abrupt("return",[]);case 2:case"end":return t.stop()}}),t)})))()},getYaGeo:function(e){return Object(o.a)(a.a.mark((function t(){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Object(r.a)(e),!d.yageo.length){t.next=3;break}return t.abrupt("return",d.yageo);case 3:return n=[],t.prev=4,t.next=7,fetch("/ya-geo.json").then((function(e){return e.json()}));case 7:(n=t.sent).length&&commit("set",{yageo:n}),t.next=13;break;case 11:t.prev=11,t.t0=t.catch(4);case 13:return t.abrupt("return",[]);case 14:case"end":return t.stop()}}),t,null,[[4,11]])})))()}}},843:function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return a})),n.d(t,"mutations",(function(){return s}));var r=n(2),o=(n(3),n(9),n(12),n(19),n(161),n(29),n(16),n(26),n(27),n(4));function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var a=function(){return{shiftKey:!1,ctrlKey:!1,fixed:!1,widget:null,client:null,origin:null,scaled:null,qrcode:null,track:null,point:null,shape:null,ctext:null,merge:null,text:null,path:null,cache:{},gridToSet:null,gridName:null,gridList:[],guidesList:[],draggable:[],diagonal:0,xGrid:100,yGrid:100,xSnap:1,ySnap:1,controls:{guides:!0,info:!1,open:!1,save:!1,snap:!1,grid:!1},drawerOptions:{lineType:"solid",fill:"rgba(255,255,255,0)",stroke:"rgba(0,0,0,1)",strokeUniform:!0,strokeWidth:1,alpha:20,sharp:10,bulge:.5,soft:.5,blur:5,magicThreshold:16,selectable:!0,img:{}},textOptions:{lineType:"solid",fill:"rgba(0,0,0,1)",stroke:"rgba(255,255,255,0)",strokeUniform:!0,strokeWidth:0},pencilTool:{value:o.Brush.PENCIL,text:"Pencil"}}},s={set:function(e,t){Object.keys(t).forEach((function(n){e[n]=t[n]}))},disposeStack:function(e){e.client=null,e.origin=null,e.scaled=null,e.track=null,e.point=null},dragPush:function(e,t){e.draggable.push(t)},dragRemove:function(e,t){e.draggable=e.draggable.filter((function(e){return e!==t}))},dragSort:function(e,t){e.draggable.sort((function(e,n){return e===t?1:n===t?-1:0}))},setDrawerOption:function(e,t){var n=e.drawerOptions;Object.keys(t).forEach((function(e){n[e]=t[e]}))},setTextOption:function(e,t){var n=e.textOptions;Object.keys(t).forEach((function(e){n[e]=t[e]}))},setLineWidth:function(e,t){var n=e.drawerOptions;n.strokeWidth=t,this.commit("canvas/setLineType",n.lineType)},setLineType:function(e,t){var n=e.drawerOptions;n.lineType=t;var r=n.strokeWidth>3?2:1;switch(t){case"solid":delete n.strokeLineCap,delete n.strokeDashArray;break;case"dotted":n.strokeLineCap="round",n.strokeDashArray=[1,3*n.strokeWidth];break;case"dashed":delete n.strokeLineCap,n.strokeDashArray=[2.3*n.strokeWidth*r,1.7*n.strokeWidth*r]}},addGridToList:function(e){e.gridList.push({name:e.gridName,list:e.guidesList})},removeGrid:function(e){e.gridList=e.gridList.filter((function(t){return t.name!==e.gridName}))},chooseGrid:function(e,t){e.gridName=t,e.gridList.some((function(n){return n.name===t&&(e.gridToSet=n.list,!0)}))},initGrid:function(e){e.gridToSet=e.gridList[0].list,e.gridName=e.gridList[0].name},createGuide:function(e,t){e.guidesList.push(t)},removeGuide:function(e,t){e.guidesList=e.guidesList.filter((function(e,n){return n!==t}))},updateGuide:function(e,t){var n=t.id,r=t.percent,o=t.pixel;if(null===r||null===o)return this.commit("canvas/removeGuide",n);e.guidesList[n].set={percent:r,pixel:o},e.guidesList[n].evt=null},toggleOpenDialog:function(e){e.controls=c(c({},e.controls),{},{open:!e.controls.open,save:!1,snap:!1})},toggleSaveDialog:function(e){e.controls=c(c({},e.controls),{},{save:!e.controls.save,open:!1,snap:!1})},toggleSnapDialog:function(e){e.controls=c(c({},e.controls),{},{snap:!e.controls.snap,save:!1,open:!1})},closeDialog:function(e){e.controls=c(c({},e.controls),{},{snap:!1,save:!1,open:!1})},toggleGuides:function(e){e.controls=c(c({},e.controls),{},{guides:!e.controls.guides})},toggleGrid:function(e){e.controls=c(c({},e.controls),{},{grid:!e.controls.grid})},toggleInfo:function(e){e.controls=c(c({},e.controls),{},{info:!e.controls.info})}}},865:function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return r})),n.d(t,"mutations",(function(){return o}));n(372),n(3),n(9),n(12);var r=function(){return{active:{chatbot:null,cover:null,graph:null,stream:null,widget:null},icons:null,event:null,buttons:Object.freeze({chatbot:[{icon:"connections"},{icon:"mailing"},{icon:"dialogs"}],cover:[{icon:"connections"},{icon:"templates"},{icon:"list"}],graph:[{icon:"new"},{icon:"open"},{icon:"link"},{icon:"webcam"},{icon:"calc"},{icon:"pixabay"}],stream:[{icon:"history"},{icon:"chart"},{icon:"stream"}],widget:[{icon:"text"},{icon:"list"},{icon:"table"},{icon:"tiles"},{icon:"cover_list"},{icon:"match"},{icon:"donation"}]})}},o={set:function(e,t){Object.keys(t).forEach((function(n){e[n]=t[n]}))}}},866:function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return d})),n.d(t,"mutations",(function(){return p})),n.d(t,"actions",(function(){return f}));n(16),n(19),n(26),n(27);var r=n(1),o=n(2),i=n(0),c=n.n(i),a=(n(3),n(373),n(14),n(374),n(375),n(376),n(377),n(378),n(379),n(380),n(381),n(382),n(383),n(384),n(385),n(386),n(387),n(388),n(389),n(15),n(12),n(43),n(9),n(29),n(34),n(138)),s=n(667);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){Object(o.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=function(){return{reload:Object(a.d)(),entity:"list",order:"asc",fabric:!1,image:null,edit:null,hash:null,tmpl:null,name:null,idx:null,modules:[{entity:"list",module:"List",cmp:"lazy-cover-list",icon:"mdi-view-stream"},{entity:"connections",module:"Connections",cmp:"lazy-core-connections",icon:"mdi-google-circles-communities"},{entity:"templates",module:"Templates",cmp:"lazy-cover-templates",icon:"mdi-cog"}],collection:new Set,connections:[],templates:[],ranges:{},list:[]}},p={set:function(e,t){this.state.app.fake&&(t=Object.keys(t).reduce((function(e,n){return["connections","list"].includes(n)?e:l(l({},e),{},Object(o.a)({},n,t[n]))}),{})),Object.keys(t).forEach((function(n){e[n]=t[n]}))},setModule:function(e,t){var n=t.idx,r=t.cmp;e.modules[n].cmp=r},setLocal:function(e,t){var n=t.list;null!==e.idx&&(e.list[e.idx]=n[e.idx],e.reload=Object(a.d)())},setCover:function(e,t){null!==e.idx&&(e.list[e.idx]=t,e.reload=Object(a.d)())},createCover:function(e,t){e.list;var n,r,i=t.name,c=t.timezone,s=void 0===c?"Europe/Moscow":c,u=t.widgets,d=void 0===u?[]:u,p=t.background,f=void 0!==p&&p,g=t.callback,b=void 0===g?function(){}:g,m=(null===(n=this.state.app.user)||void 0===n?void 0:n.id)||(null===(r=this.state.app.vkapp)||void 0===r?void 0:r.vk_user_id),h=Object(a.b)(m,i,s,d,f);this.dispatch("cover/save",{doc:Object.keys(h).reduce((function(e,t){return l(l({},e),{},Object(o.a)({},"_id"===t?"hash":t,h[t]))}),{connections:[]})}).then(b)}},f={load:Object(s.a)(),cacheImage:function(e,t){var n=e.state,r=t.src;if(!n.collection.has(r))return n.collection.add(r),new Promise((function(e){var t=new Image;t.onload=e,t.src=r}))},save:function(e){var t=e.state,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.doc,o=this.state.app,i=o.user,c=o.vkapp;if(!i&&!c)return Promise.resolve({data:{set:!1}});var a={list:t.list};switch(!0){case!!r:a={doc:r};break;case null!==t.idx:a={doc:t.list[t.idx]}}return c&&(a.uid=c.vk_user_id),this.$axios.put("/cover",a)},copy:function(e,t){var n=this;return Object(r.a)(c.a.mark((function r(){var o,i,s,u,d,p,f,g;return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=e.state,i=t.item,s=t.name,u={copy:!1},r.prev=3,d=n.state.app.vkapp||{},p=d.vk_user_id,r.next=8,n.$axios.post("/cover/copy",l(l({},i),{},{uid:p,name:s}));case 8:f=r.sent,g=f.data,u=g,r.next=15;break;case 13:r.prev=13,r.t0=r.catch(3);case 15:return o.reload=Object(a.d)(),r.abrupt("return",u);case 17:case"end":return r.stop()}}),r,null,[[3,13]])})))()},remove:function(e,t){var n=this;return Object(r.a)(c.a.mark((function r(){var o,i,s,u,l,d,p;return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=e.state,i=t._id,s={remove:!1},r.prev=3,u=n.state.app.vkapp||{},l=u.vk_user_id,r.next=8,n.$axios.delete("/cover",{params:{_id:i,uid:l}});case 8:d=r.sent,p=d.data,s=p,r.next=15;break;case 13:r.prev=13,r.t0=r.catch(3);case 15:return o.reload=Object(a.d)(),r.abrupt("return",s);case 17:case"end":return r.stop()}}),r,null,[[3,13]])})))()},templatesLoad:function(e){var t=this;return Object(r.a)(c.a.mark((function n(){var r,o,i,a;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=e.state,o=e.commit,i=[],n.prev=2,r.templates.length){n.next=19;break}return n.next=6,t.$axios.get("/cover/templates.json");case 6:if(n.t2=a=n.sent.data,n.t1=null===n.t2,n.t1){n.next=10;break}n.t1=void 0===a;case 10:if(!n.t1){n.next=14;break}n.t3=void 0,n.next=15;break;case 14:n.t3=a.map((function(e){return l(l({},e),{},{_id:e._id.$oid||e._id})}));case 15:if(n.t0=n.t3,n.t0){n.next=18;break}n.t0=[];case 18:i=n.t0;case 19:n.next=23;break;case 21:n.prev=21,n.t4=n.catch(2);case 23:i.length&&o("set",{templates:i});case 24:case"end":return n.stop()}}),n,null,[[2,21]])})))()},coversLoad:function(e){var t=arguments,n=this;return Object(r.a)(c.a.mark((function r(){var o,i,s,u,l,d,p,f,g;return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.state,o=e.commit,i=t.length>1&&void 0!==t[1]?t[1]:{},s=i.local,u={},l=[],r.prev=3,d=n.state.app.vkapp||{},p=d.vk_user_id,r.next=8,n.$axios.get("/cover",{params:{uid:p}});case 8:f=r.sent,g=f.data,u=g.ranges||{},l=g.list||[],r.next=16;break;case 14:r.prev=14,r.t0=r.catch(3);case 16:l.length&&o(s?"setLocal":"set",{ranges:Object(a.a)(u),list:l.map(a.c)});case 17:case"end":return r.stop()}}),r,null,[[3,14]])})))()}}},867:function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return r})),n.d(t,"mutations",(function(){return o}));n(3),n(9),n(12);var r=function(){return{section:"common",chatbot:[{module:"chatbot-dialogs-help",tab:"dialogs",section:"chatbot"},{module:"chatbot-mailing-help",tab:"mailing",section:"chatbot"}],cover:[{module:"cover-list-help",tab:"covers",section:"cover"},{module:"cover-templates-help",tab:"templates",section:"cover"}],core:[{module:"core-connections-help",tab:"connections",section:"core"}],stream:[{module:"stream-queue-help",tab:"stream",section:"stream"},{module:"stream-history-help",tab:"history",section:"stream"},{module:"stream-chart-help",tab:"chart",section:"stream"}],widget:[{module:"widget-common-help",tab:"widget",section:"widget"},{module:"widget-text-help",tab:"text",section:"widget"},{module:"widget-list-help",tab:"cards",section:"widget"},{module:"widget-table-help",tab:"table",section:"widget"},{module:"widget-tiles-help",tab:"tiles",section:"widget"},{module:"widget-covers-help",tab:"covers",section:"widget"},{module:"widget-match-help",tab:"match",section:"widget"},{module:"widget-donation-help",tab:"donat",section:"widget"}],designer:[{module:"graph-help-common",tab:"common",section:"designer"},{module:"graph-help-right",tab:"right",section:"designer"},{module:"graph-help-left",tab:"left",section:"designer"},{module:"graph-help-file",tab:"file",section:"designer"},{module:"graph-help-edit",tab:"edit",section:"designer"},{module:"graph-help-image",tab:"image",section:"designer"},{module:"graph-help-layer",tab:"layer",section:"designer"},{module:"graph-help-tools",tab:"tools",section:"designer"},{module:"graph-help-widgets",tab:"widgets",section:"designer"}]}},o={set:function(e,t){Object.keys(t).forEach((function(n){e[n]=t[n]}))}}}}]);